## æ¸¬è©¦ç´” UI æ¸²æŸ“

### æ¦‚è¿°

é€™ä¸€éƒ¨åˆ†å°ˆæ³¨æ–¼å¦‚ä½•æ¸¬è©¦ UI æ˜¯å¦èƒ½æ­£ç¢ºæ¸²æŸ“ï¼Œä¸»è¦æ˜¯é€é DOM å…ƒç´ é€²è¡Œé©—è­‰ã€‚

### æ¨¡æ“¬æ¸²æŸ“

ç‚ºäº†èšç„¦æ–¼ UI å…ƒç´ ï¼Œæˆ‘å€‘æœƒä½¿ç”¨ render å‡½æ•¸ä¾†æ¨¡æ“¬æ¸²æŸ“ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ CustomAvatar å…ƒä»¶çš„ä¾‹å­ï¼š

```tsx
// CustomAvatar.tsx
import { forwardRef, Avatar, AvatarProps } from "@chakra-ui/react";
import AvatarDefaultIcon from "@img/icons/avatar-default.svg";

const CustomAvatar = forwardRef<AvatarProps, "span">((props, ref) => {
  // if not set src or src is empty string, use default icon
  const src = props.src?.length ? props.src : AvatarDefaultIcon;
  return <Avatar {...props} ref={ref} src={src} data-testid="custom-avatar" />;
});
export default CustomAvatar;

// CustomAvatar.test.ts
import { render } from "@testing-library/react";
import CustomAvatar from "./CustomAvatar";

describe("CustomAvatar", () => {
  test("renders a CustomAvatar", () => {
    const { getByTestId } = render(<CustomAvatar />);

    const target = getByTestId("custom-avatar");

    expect(target).toBeInTheDocument();
  });
});
```

### æ¸¬è©¦æ­¥é©Ÿ

åŸºæœ¬çš„æ¸¬è©¦æ­¥é©Ÿå¦‚ä¸‹ï¼š

1. ä½¿ç”¨ render å‡½æ•¸æ¸²æŸ“ CustomAvatar å…ƒä»¶ã€‚
2. ä½¿ç”¨ getByTestId ä¾†å®šä½å¸¶æœ‰ `data-testid="custom-avatar"` çš„å…ƒç´ ã€‚
3. ä½¿ç”¨ expect æ–·è¨€ä¾†ç¢ºèªè©²å…ƒç´ æ˜¯å¦å­˜åœ¨æ–¼æ–‡æª”ä¸­ã€‚

ğŸ’¡ å°æç¤ºï¼šå¦‚æœä½ æƒ³ç›´æ¥æŸ¥çœ‹å…ƒä»¶çš„ DOM çµæ§‹ï¼Œå¯ä»¥ä½¿ç”¨ render æ–¹æ³•ä¸­çš„ debug() å‡½æ•¸ã€‚

---

1. é©—è­‰å±¬æ€§ï¼ˆAttributeï¼‰
   å¯ä»¥æª¢æŸ¥å…ƒä»¶æ˜¯å¦å…·æœ‰ç‰¹å®šçš„å±¬æ€§ï¼Œä¾‹å¦‚ className æˆ– styleï¼š

```tsx
expect(avatarElement).toHaveClass("custom-avatar-class");
```

2.  é©—è­‰å­å…ƒç´ ï¼ˆChild Elementsï¼‰
    é€™æ¶‰åŠæª¢æŸ¥å…ƒä»¶æ˜¯å¦åŒ…å«ç‰¹å®šçš„å­å…ƒç´ æˆ–æ–‡å­—ï¼š

```tsx
expect(avatarElement).toHaveTextContent("Your Text Here");
```

3.  é©—è­‰å…ƒç´ ç‹€æ…‹ï¼ˆElement Stateï¼‰
    ä¾‹å¦‚ï¼Œä½ å¯ä»¥æª¢æŸ¥ä¸€å€‹æŒ‰éˆ•æ˜¯å¦è¢«ç¦ç”¨ï¼š

```tsx
expect(avatarElement.querySelector("button")).toBeDisabled();
```
